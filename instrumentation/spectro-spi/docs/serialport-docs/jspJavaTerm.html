<!--
  ~ Copyright (c) 2011 Niclas Hedhman.
  ~
  ~ Licensed  under the  Apache License, Version 2.0  (the "License");
  ~ you may not use  this file  except in  compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed  under the  License is distributed on an "AS IS" BASIS,
  ~ WITHOUT  WARRANTIES OR CONDITIONS  OF ANY KIND, either  express  or
  ~ implied.
  ~
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>

<HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=iso-8859-1">
    <META NAME="GENERATOR" Content="Visual Page 2.0 for Windows">
    <TITLE>jspJavaTerm</TITLE>
</HEAD>

<BODY>

<P ALIGN="CENTER"><B><U><FONT SIZE="6">JavaTerm</FONT></U></B> <BR>
    <FONT SIZE="4">The Terminal Program For All Platforms</FONT> <BR>
    <FONT SIZE="4">Version 5.3</FONT></P>

<P>This Application uses the Java SerialPort class to demonstrate access to a computers serial port(s) via Java.</P>

<P>There are two sets of CLASS files included with this package; one set is Java 1.1 compliant (the default) and
    the other is Java 1.0.2 compliant. The SerialPort classes are the same for both VM's. JavaTerm however uses the
    AWT, and the event delegation model of Java 1.1 is significanly different from the event model of Java 1.0.2 so
    the same set of classes does not work.</P>

<P>To run JavaTerm from a command line environment, enter the command followed by the device name. e.g. <B><I>java
    JavaTerm COM3.</I></B></P>

<P>If the device you enter on the command line is in use, you may select a new device using the menu selections
    <B>Port | Settings.</B></P>

<P>When JavaTerm is shutdown (using the menu or by closing the main window), JavaTerm will save the current port
    configuration to the file &quot;LastConfig.ser&quot; in the current directory. If you have run JavaTerm previously,
    and you invoke the application without a device name, then JavaTerm will use the last port configuration as the
    default (if the file exists in the current directory). e.g. If the previous JavaTerm session was using COM3,2400,8,1
    then if you enter the command&nbsp;&nbsp; <B><I>java JavaTerm </I></B>(from the same directory as previously) this
    will run JavaTerm with the previous settings. If JavaTerm is killed from the command line using a Control-C the
    port configuration is not saved.</P>

<P>When using a Macintosh with ports other than the traditional Mac defaults defaults,</P>

<P>Selecting port names. The port name can be entered into the &quot;Port&quot; text field of the Settings dialog.
    Some platforms have a 'registry' of serial ports. When the OS supports this feature, SerialPort displays a &quot;?&quot;
    (<I>pick name</I>) button to the left of the &quot;Port&quot; TextField. When clicked, the <I>pick name </I>button
    label is changed to &quot;+/-&quot; and the text field changes to a choice control allowing the name of the port
    to be selected. When clicked again, the <I>pick name </I>button sets the controls back to the text field mode
    allowing
    edits to the port name.</P>

<P>If you wish to clear the 'receive box', click on the 'receive box' (to give it keyboard focus), and enter
    Control-X.</P>

<P>If you wish to display the current line parameters, toggle the &quot;Send Hex&quot; checkbox.</P>

<P>Split handshake (flow control). In the <I>Settings</I> dialog when <I>Handshake</I> is set to SPLIT, you can
    select handshake options by clicking on the <I>In</I> and <I>Out</I> checkboxes. This option allows you to have
    split handshake configurations for example where hardware flow control is used for the output data, and software
    flow control is used for the input data.</P>

<P><B><U>DTR and RTS</U></B> <BR>
    <B><I>Some devices (e.g. some popular modems) require DTR and/or RTS to be set or they will not communicate with
        another device.</I></B> These settings are often required even if you do not wish to use handshaking (flow
    control).
    <B><I>If your program does not appear to be working, check that DTR is set to true (if your not setting handshake
        to RTC-CTS you may also need to set RTS to true)</I></B>. Does your device work with HyperTerm (or another
    terminal
    program) but not with JavaTerm, or your SerialPort code? This could be due to the fact that many of these programs
    default to setting the DTR line <I>true</I> and selecting RTS-CTS handshaking, while SerialPort defaults to having
    DTR <I>false</I> with no handshake.</P>

<P>Note that DTR &amp; RTS checkboxes are always enabled. On some platforms changing these may cause unexpected
    operation depending on the state of the handshake (flow control) setting. For example on Win32 changing the state
    of RTS when RTS-CTS handshake is enabled is defined as 'illegal'. This definition is not true on all platforms.
<H4><U>Carrage Return (CR) issues</U></H4>

<P>Remember that the <B>Output CR Filter</B> option sends a CRLF pair. This allows two version of JavaTerm to 'chat',
    turn this option off if you need to send only CR (e.g. to log onto some services). Some VM implementations do not
    pass the CR key as an event, you will need to use the <B>Send Hex</B> option for this. Some VM implementations
    send a LF character instead of CR when the <I>Enter</I> key is hit.</P>

<P><B><U>Windows Notes</U></B> <BR>
    Windows may not properly detect serial ports in use by some device drivers. You may find your device stops working
    when you start JavaTerm, or select a new port from the settings dialog. For example Windows may problems detecting
    what port is in use by the the Wacom ArtPad driver (at least through ver 2.55). When this happens you will <B>not
    </B>get a 'port in use' exception when the port is opened with SerialPort, and you will most likely have to reboot
    the computer to reset the driver before using the device.</P>

<P><B>Windows NT device names</B> <BR>
    When you use a port that is greater than COM9 and for non-standard serial devices WinNT uses special device naming.
    For example to open COM10 NT expects the name&nbsp; &quot;<B><I><TT>\\.\\COM10</TT></I></B>&quot;. SerialPort
    supports
    these names, but they are not required for version 3.2 and later. To start JavaTerm you may use this format
    &quot;<B><I>java
        JavaTerm \\.\\COM10</I></B>&quot; This naming convention also generally applies to other serial device names,
    for
    example if your serial device is &quot;MPSerial0_A&quot; you may also use the name &quot;\\.\MPSerial0_A&quot;
    to open it.</P>

<P>Windows may not properly detect serial ports in use by some device drivers, and Windows may report the device
    not valid if you try to open a device in use by a device driver. For example if your mouse is on COM1 and you try
    to use JavaTerm on COM1 it may report &quot;device not valid&quot;.</P>

<P><B>Sun's Personal Java on WinCE</B></P>

<P>The pJava beta2 will always display a console window when the application outputs data to the console. To avoid
    this automatic console display when running on WinCE, JavaTerm will redirect the console output to a file named
    &quot;JTermLog.txt&quot;.</P>

<P><B>Small screens (e.g. WinCE, EPOC)</B><BR>
    When you size the JavaTerm window to less than 300 pixels, or run it on a device with a vertical resolution of
    less than 300 pixels, it automatically resizes horizontally if necessary (to 640 pixels) to provide all the needed
    controls in the short window.</P>

<P><B>Microsoft Java Notes</B> <BR>
    Microsoft jview (at least through SDK V1.5.1) does not correctly report an unsatisfied link error if it cannot
    find a DLL. If you start JavaTerm.exe and you do not see the JavaTerm GUI window the most likely cause is JavaTerm
    cannot find the DLL(s). There is also an apparent bug with MS JDK 1.0 where it requires the entry DLL to be in
    the current directory. If you have MS JDK1.0 the best way to run this demo is to put all the DLLs in the current
    directory.</P>

<P><B><U><A HREF="jspEpoc.html">EPOC32 on Psion Notes</A></U></B></P>

<P>The default capture is stored in C:\Capture.dat instead of the current folder. This allows the file to be selected
    quickly using the EPOC file browser.</P>

<P>When run on EPOC, the Port | Settings dialog will show a checkbox labeled &quot;Disable Active Link&quot;. When
    selected, this will close an active 'link to desktop'. When done using the port, the link will be enabled again.
    When not selected, JavaTerm will fail to open the port and report &quot;Remote Link is active&quot; (this is the
    default).</P>

<P><B><U>Unix Notes</U></B> <BR>
    Some Unix devices have strange indexing for multiple ports. The JavaTerm settings dialog allows selection of device
    names based on an index number when clicking on the buttons labeld &quot;+&quot; and &quot;-&quot;. This will only
    work if the device name is indexed such that mutiple devices only modify the end of the device name (this is the
    most common case). For example a device that indexes as /dev/ttyS0, /dev/ttyS1 will work, a device that indexes
    as /dev/tty0p0, /dev/tty1p0 will not. You can still use JavaTerm with these ports, but you will have to enter the
    device name.</P>

<P><I>Linux</I> <BR>
    Some versions of JDK may not align JavaTerm checkbox labels to the left. This issue has been observed on Linux
    JDK1.1.3.</P>

<P><I>SGI Irix Mips</I> <BR>
    With some versions of IRIX and the SGI JDK running on 64 bit CPU's, you may need to involke the MIPS ABI options.
    For example to use the MIPS o32 ABI by entering the command&nbsp; <B><I>java -32 JavaTerm devName.</I></B></P>

<P><B><U>Macintosh Notes</U></B> <BR>
    To run JavaTerm double-click on the file &quot;JavaTerm&quot; or &quot;JavaTerm Comm API&quot;. The &quot;JavaTerm&quot;
    demo is implemented using the SerialPort API while the &quot;JavaTerm Comm API&quot; demo is implemented using
    the javax.comm.SerialPort API.</P>

<P>The &quot;JavaTerm&quot; demo defaults to using the port named &quot;Modem Port&quot;, which exists only on
    older Macs with built-in serial ports. If you want to use a port with a different name, use the <I>pick name </I>button
    as explained above.</P>

<P>To reveal the names of the your serial ports, you can also use a utility application such as the freeware &quot;PortPeek&quot;
    which can be downloaded from the Megawolf, Inc. website <A
            HREF="http://www.megawolf.com">(http://www.megawolf.com)</A></P>

<P>It is possible to run multiple instances of either of the JavaTerm application by using Apple's MRJ 2.2. You
    must first make a copy of the JavaTerm application using the Duplicate function in the Finder. Then, you can launch
    both copies and use one to communicate with the other by looping a serial port cable between the two serial
    ports.</P>

<P>If the two copies of the application in the same folder, they always start-up trying to use the same serial
    port. To avoid this conflict, move each application to a separate folder. Each copy will save separate preferences
    for the port settings and also the window location.</P>

<P><B><U>OS/2 Notes</U></B> <BR>
    For OS/2 use the command java JavaTerm. Output from System.out will show up in the original command line window.
    If a specific Java console is desired, set the environment variable JAVA_CONSOLE=1 before running java.</P>

<P>If you want to use the &quot;Run Java Program&quot; or &quot;Run Java PM Program&quot; icons in the &quot;Java
    for OS/2&quot; folder, there are two requirements. First place the required class files in a directory specified
    by CLASSPATH, then place the DLLs in a directory (other than &quot;.&quot;) specified by LIBPATH. Following these
    configurations, when the icon is double clicked, it will prompt for a parameter which should be entered as
    WinTerm.</P>

<P>IBM JDK 1.1.4 has a bug that causes the VM to report it is running on Windows 95 even when running on OS/2.
    If you want to use IBM JDK 1.1.4 you will need to make a simple change to the SerialPort Java source code to account
    for IBM's bug.</P>

<P><B><U>javax.comm API</U></B></P>

<P>In addition to the very popular JavaTerm product, we also include a version that runs using the javax.comm API.
    This code will work with our implementation, or another implementation that is compliant with the javax.comm
    specification.
    Note that there are some problems with the javax.comm (at least with release 2.0) so to use our JavaTerm product
    with an implementation other than ours you may need to make some slight modifications. For example the comm API
    assumes that a RTS signal exists in the system and since this is not always true you may see some exceptions when
    run on a platform that does not support these (e.g. the Mac). The Solutions Consulting implementation uses the
    SerialPort API to implement the javax.comm API, and has dealt with these issues internally allowing the identical
    code to run on all platforms.
<H4><B><U>More information on SerialPort</U></B></H4>

<P>Be sure to read the document on <A HREF="jspUsing.html">using SerialPort</A>. <BR>
    &nbsp; <BR>
    &nbsp;</P>

<P ALIGN="CENTER"><B><U>Contact US</U></B> <BR>
    If you have questions or comments please contact us. <BR>
    <B><FONT SIZE="4">Solutions Consulting</FONT></B> <BR>
    <B>support@serialio.com</B>

</BODY>

</HTML>